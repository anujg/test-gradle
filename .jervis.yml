#######################
# Aurea Central Jervis Example
#######################
# User guide and documentation can be found at: https://github.com/trilogy-group/aurea-central-jervis-example
# This project is based on https://github.com/aurea-central-jervis-example/aurea-central-jervis

language: shell

branches:
  only:
    - master
    - release
    - feature

#docker-agents:
#  - docker-image: registry2.swarm.devfactory.com/aurea/teamcity-linux/aes-edi:aesedi-8483-java8-maven-security
#    labels: aes-java

#trigger_cron_branch:
#  - develop
#  - release
#trigger_cron_expression: 'H/2 * * * *'

script:
  - echo 'Trying dev script'
  - echo "Before"
  - if [ ! -z "$SECRET1" ]; then echo "Got correct secret!"; fi
  - echo "After"

jenkins:
#  additional_labels: aes-java
  secrets:
    SECRET1: MY_SECRET_1
    SECRET2: SECRET2
  pipeline_jenkinsfile: custom-jenkins-file
